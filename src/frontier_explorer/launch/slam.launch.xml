<?xml version="1.0"?>
<launch>
    <!-- Launch SLAM Toolbox -->
    <node pkg="slam_toolbox" exec="sync_slam_toolbox_node" name="slam_toolbox" output="screen">
        <param name="use_sim_time" value="true"/>
        <param name="odom_frame" value="odom"/>
        <param name="base_frame" value="base_link"/>
        <param name="map_frame" value="map"/>
        <!-- Increase queue size to handle messages -->
        <param name="message_queue_size" value="2000"/>

        <!-- Remappings -->
        <remap from="scan" to="/carter1/front_3d_lidar/lidar_points"/>
        <remap from="odom" to="/carter1/chassis/odom"/>
        <remap from="/tf" to="/carter1/tf"/>
        <remap from="/tf_static" to="/carter1/tf_static"/>
    </node>

    <!-- Launch Frontier Explorer -->
    <node pkg="frontier_explorer" exec="frontier_explorer" name="frontier_explorer" 
          output="screen">
        <!-- Global parameters -->
        <param name="use_sim_time" value="true"/>
        
        <!-- Remappings -->
        <remap from="/tf" to="/carter1/tf"/>
        <remap from="/tf_static" to="/carter1/tf_static"/>
    </node>
</launch>